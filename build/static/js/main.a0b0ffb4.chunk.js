(this.webpackJsonpspotmix=this.webpackJsonpspotmix||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(7),r=n.n(s),i=n(0),u=function(e){var t=e.heading;return Object(i.jsx)("div",{className:"title",children:Object(i.jsx)("h1",{children:t})})},o=n(6),l=n.n(o),d=n(8),m=n(2),f=function(e){var t=e.text,n=e.click,a=e.classCSS;return Object(i.jsx)("button",{className:a,onClick:n,children:t})},j=function(e){var t=e.name,n=e.secondaryInfo,a=e.thumbnail,c=e.click,s=n.map((function(e){return e.name})).join(", ");return Object(i.jsxs)("div",{className:"ListItem",children:[Object(i.jsx)("span",{className:"name",children:t}),Object(i.jsx)("span",{className:"secondaryInfo",children:s}),Object(i.jsx)("div",{className:"add",onClick:c,children:Object(i.jsx)("i",{className:"fas fa-2x fa-plus"})}),Object(i.jsx)("img",{src:a,alt:t})]})},b=n(9),h=function(e){var t=e.title,n=e.thumbnail,a=e.audioBlobUri;function s(e,t,n){this.name=e,this.img=t,this.uri=n}var r=c.a.useState([]),u=Object(m.a)(r,2),o=u[0],l=u[1],d=c.a.useState(null),f=Object(m.a)(d,2),j=f[0],h=f[1],p=c.a.useState(-1),y=Object(m.a)(p,2),x=y[0],O=y[1],v=c.a.useState(!1),S=Object(m.a)(v,2),g=S[0],k=S[1],N=document.getElementById("audioPlayer"),T=document.querySelector(".musicSeeker");document.addEventListener("keydown",(function(e){32===e.keyCode&&(e.target===document.body&&e.preventDefault(),e.target!==document.querySelector("input[type=text]")&&I())})),c.a.useEffect((function(){if(a){var e=new s(t,n,a);l((function(t){return[].concat(Object(b.a)(t),[e])}))}}),[a]),c.a.useEffect((function(){j&&(N.src=j.uri,N.load(),N.play(),document.querySelector(".songTitle").innerHTML=j.name,document.querySelector(".Player img").src=j.img,T.style.display="block",document.querySelector(".currentTime").style.display="block",document.querySelector(".totalTime").style.display="block",T.addEventListener("change",(function(){N.currentTime=T.value,document.querySelector(".currentTime").innerHTML=q(T.value)})),N.addEventListener("loadedmetadata",(function(){T.max=Math.floor(N.duration),document.querySelector(".totalTime").innerHTML=q(N.duration)})),N.addEventListener("timeupdate",(function(){T.value=Math.floor(N.currentTime),document.querySelector(".currentTime").innerHTML=q(N.currentTime)})),k(!1))}),[j]),c.a.useEffect((function(){1==o.length&&E()}),[o]);var E=function(){x!==o.length-1?O(x+1):T.value=0},q=function(e){var t=Math.floor(e/60),n=Math.floor(e%60),a=n<10?"0".concat(n):n;return"".concat(t,":").concat(a)},I=function(){a&&(g?N.play():N.pause(),k(!g))};return c.a.useEffect((function(){h(o[x]);for(var e=0;e<o.length;e++)document.getElementById(e).style.background=e==x?"hsl(160, 80%, 40%)":"none"}),[x]),Object(i.jsxs)("div",{className:"Player",children:[Object(i.jsx)("img",{}),Object(i.jsx)("span",{className:"songTitle"}),Object(i.jsx)("i",{className:"previousIcon fas fa-2x fa-angle-double-left",onClick:function(){0!==x?O(x-1):T.value=0}}),Object(i.jsx)("i",{className:"playIcon fas fa-2x fa-".concat(g?"play":"pause"),onClick:function(){return I()}}),Object(i.jsx)("i",{className:"nextIcon fas fa-2x fa-angle-double-right",onClick:E}),Object(i.jsx)("span",{className:"currentTime",style:{display:"none"},children:"0:00"}),Object(i.jsx)("input",{type:"range",className:"musicSeeker",style:{display:"none"}}),Object(i.jsx)("span",{className:"totalTime",style:{display:"none"},children:"0:00"}),Object(i.jsx)("audio",{autoPlay:!0,id:"audioPlayer",preload:"metadata",onEnded:E}),Object(i.jsxs)("i",{className:"queue fas fa-2x fa-clipboard-list",children:[Object(i.jsx)("i",{className:"fas fa-times"}),Object(i.jsxs)("div",{className:"hip",children:[Object(i.jsx)("div",{className:"songQueue",children:o.map((function(e,t){return Object(i.jsx)("div",{id:t,children:e.name},t)}))}),Object(i.jsx)("span",{className:"bottomArrow"})]})]})]})},p=function(){var e=c.a.createRef(),t=c.a.useState(null),n=Object(m.a)(t,2),a=n[0],s=n[1],r=c.a.useState(null),u=Object(m.a)(r,2),o=u[0],b=u[1],p=c.a.useState(null),y=Object(m.a)(p,2),x=y[0],O=y[1],v=c.a.useState(null),S=Object(m.a)(v,2),g=S[0],k=S[1],N=c.a.useState(null),T=Object(m.a)(N,2),E=T[0],q=T[1],I=c.a.useState(null),L=Object(m.a)(I,2),C=L[0],M=L[1],B=[],w=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.map((function(e){return e.name})).join(", "),s=encodeURIComponent("".concat(t," ").concat(c)),E!=="".concat(t,"- ").concat(c)&&(B=[],fetch("/youtube?search=".concat(s)).then((function(e){return e.body.getReader()})).then((function(e){return k(e)})),q("".concat(t,"- ").concat(c)),M(a));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return c.a.useEffect((function(){if(g){!function e(){g.read().then((function(t){var n=t.done,a=t.value;if(!n)return B.push(a),e();document.querySelector(".notif").style.opacity=1,setTimeout((function(){return document.querySelector(".notif").style.opacity=0}),2e3);var c=new Blob(B,{type:"video/mp4"});O(URL.createObjectURL(c))}))}()}}),[g]),c.a.useEffect((function(){if(o){var e=o.trim().replace(/\s/g,"+");fetch("/song?search=".concat(e)).then((function(e){return e.json()})).then((function(e){return s(e.spotify.body.tracks.items)}))}}),[o]),Object(i.jsxs)("div",{className:"mainBody",children:[Object(i.jsx)("div",{className:"notif",children:"Song has been added to queue."}),Object(i.jsxs)("div",{className:"SearchBar",children:[Object(i.jsx)("input",{ref:e,type:"text",placeholder:"Search..",spellCheck:"false",onKeyPress:function(t){return"Enter"===t.key?b(e.current.value):null}}),Object(i.jsx)(f,{text:"Go",click:function(){return b(e.current.value)},classCSS:"searchButton"}),Object(i.jsx)("ul",{children:a?a.map((function(e){return Object(i.jsx)(j,{name:e.name,secondaryInfo:e.artists,thumbnail:e.album.images[1].url,click:function(){return w(e.name,e.artists,e.album.images[1].url)}},e.id)})):"Search for your tracks using the above search-bar"})]}),Object(i.jsx)(h,{audioBlobUri:x,title:E,thumbnail:C})]})},y=function(){return Object(i.jsxs)("div",{className:"Main",children:[Object(i.jsx)(u,{heading:"skookshie"}),Object(i.jsx)(p,{})]})},x=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(y,{})})};r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a0b0ffb4.chunk.js.map